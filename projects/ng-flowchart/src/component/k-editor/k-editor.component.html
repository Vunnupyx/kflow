<main>
    <div
            id="canvas"
            ngFlowchartCanvas
            [ngFlowchartOptions]="options"
            [ngFlowchartCallbacks]="callbacks"
            [disabled]="disabled"
    ></div>
    <div id="palette">
        <section>
            <div
                    class="plugin-op"
                    *ngFor="let item of items"
                    [ngFlowchartStep]="{
          template: normalStep,
          type: item.type,
          data: item.data
        }"
            >
                <img src="assets/images/icons/{{item.data.icon.name}}" alt="">
            </div>
            <div
                    class="plugin-op"
                    *ngFor="let op of customOps"
                    [ngFlowchartStep]="op.step"
            >
                <span>{{ op.paletteName }}</span>
            </div>
        </section>
        <section>
            <div class="sub-section">
                <label for="step-gap-select" class="wide">Step Gap</label>
                <select
                        name="step-gap-select"
                        id="step-gap-select"
                        class="wide"
                        (change)="onGapChanged($event)"
                >
                    <option value="30">30</option>
                    <option value="40" selected>40</option>
                    <option value="60">60</option>
                </select>
            </div>
            <div class="sub-section">
                <label for="parallel">Multiple child nodes</label>
                <input
                        type="checkbox"
                        id="parallel"
                        name="parallel"
                        (change)="onMultipleChildNodesChange($event)"
                />
            </div>
            <div class="sub-section">
                <label for="disabled">Disabled</label>
                <input
                        type="checkbox"
                        id="disabled"
                        name="disabled"
                        (change)="disabled = $event.target.checked"
                />
            </div>
        </section>
        <section>
            <button (click)="clearData()">Clear</button>
        </section>
        <ng-template #normalStep let-data>
            <div
                    class="card"
                    [attr.name]="data.data.name"
                    #card
                    (click)="onDelete(data.id)"
            >
                <img src="assets/images/icons/{{data.data.icon.name}}" alt="">
            </div>
        </ng-template>
    </div>
</main>
